---
layout: default
title: Spine для Playables
permalink: /how-to-spine/
---

### Спайн-анимация для плееблов.

Подготовка спайн-анимации для плееблов имеет ряд отличий от подготовки спайн-анимаций для любых других проектов.

### Основные тезисы

Весь плеебл, как правило, должен занимать не больше 5 мбайт, в очень редких случаях его вес должен быть 2-2.5 мбайта. 

В эти 5 мбайт билда должны вмещаться код, вся статика (ui, фоны, пропсы, эффекты), звук с музыкой, и, наконец, спайн анимации. 

На выходе мы можем иметь 1-2 мбайта веса, чтобы разгуляться. 

Второй важный момент - сами анимации должны быть максимально лёгкими: аниматор должен максимально ограничить себя в использовании фичей вроде мешей и констрейнов. 

Почему так? Эти анимации проигрываются в движке в игре и браузере. Игра в игре, подтянутая извне. Такие игры должны проигрываться одинаково хорошо на всём спектре устройств: от допотопных калькуляторов и чайников, до стиральных машин с утюгами. Это условие тяжело поддерживать, если у нас будет костей чуть больше 50, в меше будет вертексов чуть больше четырёх, весов на вертекс больше двух, и тд. Об этом чуть ниже. 

Пример метрики одного из легковесных персонажей, у которого оставался простор для оптимизации:
![]({{}}/images/howtospine/spinemetrics.png)

### О весе

Вес экспорта зависит от двух вещей: размер атласа и вес анимации в json. 

Json будет лёгким, если мы не нагрузим проект большим количеством костей, он напрямую зависит от того, сколько анимаций, костей и ключей в этих анимациях задействовано. 

Есть простое правило: руки состоят из плеча(hand), руки(arm), кисти(palm)  (названия в скобках условное), ноги состоят из трёх частей бедро (hip/leg), голень(shin), стопа(boot). Тело из одной-двух костей, шею по возможности  смёржить с телом, голова отдельно. Зрачки и части лица вроде бровей лучше мёржить вместе, и делать организовать эмоции списком аттачментов к слоту. Если есть необходимость в анимации волос-тканей, не больше 1-3 костей на сущность. 

![]({{}}/images/howtospine/skeletonexample.png)






[email@domain.com](mailto:email@domain.com)